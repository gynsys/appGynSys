[{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\components\\common\\__init__.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\components\\layout\\__init__.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\components\\profile-editor\\useFAQs.js","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadFAQs'. Either include it or remove the dependency array.","line":15,"column":6,"nodeType":"ArrayExpression","endLine":15,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [loadFAQs]","fix":{"range":[564,566],"text":"[loadFAQs]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react'\r\nimport { faqService } from '../../services/faqService'\r\nimport { useToastStore } from '../../store/toastStore'\r\n\r\nexport const useFAQs = () => {\r\n  const { toast } = useToastStore()\r\n  const [faqs, setFaqs] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [faqSavingId, setFaqSavingId] = useState(null)\r\n  const [expandedFaqId, setExpandedFaqId] = useState(null)\r\n  const [newFaq, setNewFaq] = useState({ question: '', answer: '', display_order: 0 })\r\n\r\n  useEffect(() => {\r\n    loadFAQs()\r\n  }, [])\r\n\r\n  const loadFAQs = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const data = await faqService.getMyFAQs()\r\n      setFaqs(data || [])\r\n    } catch (err) {\r\n      toast.error('Error al cargar preguntas frecuentes')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleFaqFieldChange = (id, field, value) => {\r\n    setFaqs(prev =>\r\n      prev.map(f => f.id === id ? { ...f, [field]: value } : f)\r\n    )\r\n  }\r\n\r\n  const handleSaveFAQ = async (faq) => {\r\n    setFaqSavingId(faq.id)\r\n    try {\r\n      const updated = await faqService.updateFAQ(faq.id, {\r\n        question: faq.question,\r\n        answer: faq.answer,\r\n        display_order: faq.display_order\r\n      })\r\n      setFaqs(prev =>\r\n        prev.map(f => f.id === faq.id ? updated : f)\r\n      )\r\n      toast.success('Pregunta frecuente actualizada correctamente')\r\n      setExpandedFaqId(null)\r\n    } catch (err) {\r\n      toast.error('Error al actualizar la pregunta frecuente')\r\n    } finally {\r\n      setFaqSavingId(null)\r\n    }\r\n  }\r\n\r\n  const handleDeleteFAQ = async (faqId) => {\r\n    if (!window.confirm('¿Estás seguro de que deseas eliminar esta pregunta frecuente?')) return\r\n    try {\r\n      await faqService.deleteFAQ(faqId)\r\n      setFaqs(prev => prev.filter(f => f.id !== faqId))\r\n      toast.success('Pregunta frecuente eliminada correctamente')\r\n    } catch (err) {\r\n      toast.error('Error al eliminar la pregunta frecuente')\r\n    }\r\n  }\r\n\r\n  const handleCreateFAQ = async () => {\r\n    if (!newFaq.question.trim() || !newFaq.answer.trim()) {\r\n      toast.error('Por favor completa la pregunta y la respuesta')\r\n      return\r\n    }\r\n    try {\r\n      const created = await faqService.createFAQ(newFaq)\r\n      setFaqs(prev => [...prev, created])\r\n      setNewFaq({ question: '', answer: '', display_order: 0 })\r\n      toast.success('Pregunta frecuente creada correctamente')\r\n    } catch (err) {\r\n      toast.error('Error al crear la pregunta frecuente')\r\n    }\r\n  }\r\n\r\n  return {\r\n    faqs,\r\n    loading,\r\n    faqSavingId,\r\n    expandedFaqId,\r\n    setExpandedFaqId,\r\n    newFaq,\r\n    setNewFaq,\r\n    loadFAQs,\r\n    handleFaqFieldChange,\r\n    handleSaveFAQ,\r\n    handleDeleteFAQ,\r\n    handleCreateFAQ\r\n  }\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\components\\profile-editor\\useGallery.js","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadGallery'. Either include it or remove the dependency array.","line":15,"column":6,"nodeType":"ArrayExpression","endLine":15,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [loadGallery]","fix":{"range":[589,591],"text":"[loadGallery]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react'\r\nimport { galleryService } from '../../services/galleryService'\r\nimport { useToastStore } from '../../store/toastStore'\r\n\r\nexport const useGallery = () => {\r\n  const { toast } = useToastStore()\r\n  const [gallery, setGallery] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [gallerySavingId, setGallerySavingId] = useState(null)\r\n  const [expandedGalleryId, setExpandedGalleryId] = useState(null)\r\n  const [uploadingGalleryImage, setUploadingGalleryImage] = useState(false)\r\n\r\n  useEffect(() => {\r\n    loadGallery()\r\n  }, [])\r\n\r\n  const loadGallery = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const data = await galleryService.getMyGallery()\r\n      setGallery(data || [])\r\n    } catch (err) {\r\n      toast.error('Error al cargar la galería')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleGalleryFieldChange = (id, field, value) => {\r\n    setGallery(prev =>\r\n      prev.map(img => img.id === id ? { ...img, [field]: value } : img)\r\n    )\r\n  }\r\n\r\n  const handleSaveGalleryImage = async (galleryImage) => {\r\n    setGallerySavingId(galleryImage.id)\r\n    try {\r\n      const updated = await galleryService.updateGalleryImage(galleryImage.id, {\r\n        title: galleryImage.title,\r\n        description: galleryImage.description,\r\n        display_order: galleryImage.display_order,\r\n        is_active: galleryImage.is_active\r\n      })\r\n      setGallery(prev =>\r\n        prev.map(img => img.id === galleryImage.id ? updated : img)\r\n      )\r\n      toast.success('Imagen de galería actualizada correctamente')\r\n      setExpandedGalleryId(null)\r\n    } catch (err) {\r\n      toast.error('Error al actualizar la imagen de galería')\r\n    } finally {\r\n      setGallerySavingId(null)\r\n    }\r\n  }\r\n\r\n  const handleDeleteGalleryImage = async (galleryId) => {\r\n    if (!window.confirm('¿Estás seguro de que deseas eliminar esta imagen de la galería?')) return\r\n    try {\r\n      await galleryService.deleteGalleryImage(galleryId)\r\n      setGallery(prev => prev.filter(img => img.id !== galleryId))\r\n      toast.success('Imagen de galería eliminada correctamente')\r\n    } catch (err) {\r\n      toast.error('Error al eliminar la imagen de galería')\r\n    }\r\n  }\r\n\r\n  const handleUploadGalleryImage = async (file, title = '', description = '') => {\r\n    setUploadingGalleryImage(true)\r\n    try {\r\n      const created = await galleryService.uploadGalleryImage(file, title, description)\r\n      setGallery(prev => [...prev, created])\r\n      toast.success('Imagen subida correctamente')\r\n      setExpandedGalleryId(created.id)\r\n    } catch (err) {\r\n      toast.error('Error al subir la imagen')\r\n    } finally {\r\n      setUploadingGalleryImage(false)\r\n    }\r\n  }\r\n\r\n  return {\r\n    gallery,\r\n    loading,\r\n    gallerySavingId,\r\n    expandedGalleryId,\r\n    setExpandedGalleryId,\r\n    uploadingGalleryImage,\r\n    loadGallery,\r\n    handleGalleryFieldChange,\r\n    handleSaveGalleryImage,\r\n    handleDeleteGalleryImage,\r\n    handleUploadGalleryImage\r\n  }\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\components\\profile-editor\\useProfileData.js","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'user' is assigned a value but never used.","line":7,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":15},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadProfile'. Either include it or remove the dependency array.","line":26,"column":6,"nodeType":"ArrayExpression","endLine":26,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [loadProfile]","fix":{"range":[813,815],"text":"[loadProfile]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react'\r\nimport { doctorService } from '../../services/doctorService'\r\nimport { useAuthStore } from '../../store/authStore'\r\nimport { useToastStore } from '../../store/toastStore'\r\n\r\nexport const useProfileData = () => {\r\n  const { user } = useAuthStore()\r\n  const toast = useToastStore()\r\n  const [doctor, setDoctor] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [saving, setSaving] = useState(false)\r\n  const [formData, setFormData] = useState({\r\n    nombre_completo: '',\r\n    especialidad: '',\r\n    biografia: '',\r\n    theme_primary_color: '#4F46E5',\r\n    theme_body_bg_color: '',\r\n    theme_container_bg_color: '',\r\n    card_shadow: true,\r\n    container_shadow: true,\r\n    contact_email: ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    loadProfile()\r\n  }, [])\r\n\r\n  const loadProfile = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const data = await doctorService.getCurrentUser()\r\n      setDoctor(data)\r\n      setFormData({\r\n        nombre_completo: data.nombre_completo || '',\r\n        especialidad: data.especialidad || '',\r\n        biografia: data.biografia || '',\r\n        theme_primary_color: data.theme_primary_color || '#4F46E5',\r\n        theme_body_bg_color: data.theme_body_bg_color || '',\r\n        theme_container_bg_color: data.theme_container_bg_color || '',\r\n        card_shadow: data.card_shadow !== undefined ? data.card_shadow : true,\r\n        container_shadow: data.container_shadow !== undefined ? data.container_shadow : true,\r\n        contact_email: data.contact_email || '',\r\n        social_youtube: data.social_youtube || '',\r\n        social_instagram: data.social_instagram || '',\r\n        social_tiktok: data.social_tiktok || '',\r\n        social_x: data.social_x || '',\r\n        social_facebook: data.social_facebook || ''\r\n      })\r\n    } catch (err) {\r\n      toast.error('Error al cargar el perfil')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setFormData(prev => ({ ...prev, [name]: value }))\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setSaving(true)\r\n    try {\r\n      await doctorService.updateCurrentUser(formData)\r\n      toast.success('Perfil actualizado correctamente')\r\n      loadProfile()\r\n    } catch (err) {\r\n      toast.error('Error al actualizar el perfil')\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  const handleLogoUpload = async (url) => {\r\n    try {\r\n      await doctorService.updateCurrentUser({ logo_url: url })\r\n      toast.success('Logo actualizado correctamente')\r\n      loadProfile()\r\n    } catch (err) {\r\n      toast.error('Error al actualizar el logo')\r\n    }\r\n  }\r\n\r\n  const handlePhotoUpload = async (url) => {\r\n    try {\r\n      await doctorService.updateCurrentUser({ photo_url: url })\r\n      toast.success('Foto actualizada correctamente')\r\n      loadProfile()\r\n    } catch (err) {\r\n      toast.error('Error al actualizar la foto')\r\n    }\r\n  }\r\n\r\n  return {\r\n    doctor,\r\n    loading,\r\n    saving,\r\n    formData,\r\n    handleChange,\r\n    handleSubmit,\r\n    handleLogoUpload,\r\n    handlePhotoUpload\r\n  }\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\components\\profile-editor\\useTestimonials.js","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadTestimonials'. Either include it or remove the dependency array.","line":14,"column":6,"nodeType":"ArrayExpression","endLine":14,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [loadTestimonials]","fix":{"range":[556,558],"text":"[loadTestimonials]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react'\r\nimport { testimonialService } from '../../services/testimonialService'\r\nimport { useToastStore } from '../../store/toastStore'\r\n\r\nexport const useTestimonials = () => {\r\n  const { toast } = useToastStore()\r\n  const [testimonials, setTestimonials] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [testimonialSavingId, setTestimonialSavingId] = useState(null)\r\n  const [expandedTestimonialId, setExpandedTestimonialId] = useState(null)\r\n\r\n  useEffect(() => {\r\n    loadTestimonials()\r\n  }, [])\r\n\r\n  const loadTestimonials = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const data = await testimonialService.getMyTestimonials()\r\n      setTestimonials(data || [])\r\n    } catch (err) {\r\n      toast.error('Error al cargar testimonios')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleTestimonialFieldChange = (id, field, value) => {\r\n    setTestimonials(prev =>\r\n      prev.map(t => t.id === id ? { ...t, [field]: value } : t)\r\n    )\r\n  }\r\n\r\n  const handleSaveTestimonial = async (testimonial) => {\r\n    setTestimonialSavingId(testimonial.id)\r\n    try {\r\n      const updated = await testimonialService.updateTestimonial(testimonial.id, {\r\n        patient_name: testimonial.patient_name,\r\n        rating: testimonial.rating,\r\n        content: testimonial.content,\r\n        photo_url: testimonial.photo_url\r\n      })\r\n      setTestimonials(prev =>\r\n        prev.map(t => t.id === testimonial.id ? updated : t)\r\n      )\r\n      toast.success('Testimonio actualizado correctamente')\r\n      setExpandedTestimonialId(null)\r\n      // Trigger updates\r\n      localStorage.setItem('testimonials_updated', Date.now().toString())\r\n      window.dispatchEvent(new CustomEvent('testimonialsUpdated'))\r\n      await new Promise(resolve => setTimeout(resolve, 500))\r\n    } catch (err) {\r\n      toast.error('Error al actualizar el testimonio')\r\n    } finally {\r\n      setTestimonialSavingId(null)\r\n    }\r\n  }\r\n\r\n  return {\r\n    testimonials,\r\n    loading,\r\n    testimonialSavingId,\r\n    expandedTestimonialId,\r\n    setExpandedTestimonialId,\r\n    loadTestimonials,\r\n    handleTestimonialFieldChange,\r\n    handleSaveTestimonial\r\n  }\r\n}","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\features\\auth\\__init__.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\features\\auth\\useAuth.js","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'doctorService' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":23},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchUserInfo'. Either include it or remove the dependency array.","line":39,"column":6,"nodeType":"ArrayExpression","endLine":39,"endColumn":34,"suggestions":[{"desc":"Update the dependencies array to be: [user, setUser, logoutStore, fetchUserInfo]","fix":{"range":[1216,1244],"text":"[user, setUser, logoutStore, fetchUserInfo]"}}]},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":42,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":52,"endColumn":6},{"ruleId":"no-useless-catch","severity":2,"message":"Unnecessary try/catch wrapper.","line":56,"column":5,"nodeType":"TryStatement","messageId":"unnecessaryCatch","endLine":65,"endColumn":6}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { authService } from '../../services/authService'\r\nimport { doctorService } from '../../services/doctorService'\r\nimport { useAuthStore } from '../../store/authStore'\r\n\r\nexport function useAuth() {\r\n  const navigate = useNavigate()\r\n  const { user, isAuthenticated, setUser, logout: logoutStore } = useAuthStore()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  // Fetch user info from API\r\n  const fetchUserInfo = async () => {\r\n    try {\r\n      const userData = await authService.getCurrentUser()\r\n      setUser(userData)\r\n      return userData\r\n    } catch (error) {\r\n      // If token is invalid, clear it\r\n      if (error.response?.status === 401) {\r\n        localStorage.removeItem('access_token')\r\n        logoutStore()\r\n      }\r\n      throw error\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Check if user is authenticated on mount\r\n    const token = localStorage.getItem('access_token')\r\n    if (token && !user) {\r\n      // Fetch user info from API\r\n      fetchUserInfo()\r\n        .then(() => setLoading(false))\r\n        .catch(() => setLoading(false))\r\n    } else {\r\n      setLoading(false)\r\n    }\r\n  }, [user, setUser, logoutStore])\r\n\r\n  const login = async (email, password) => {\r\n    try {\r\n      const response = await authService.login(email, password)\r\n      // Fetch user info after successful login\r\n      if (response.access_token) {\r\n        const userData = await fetchUserInfo()\r\n        return { ...response, user: userData }\r\n      }\r\n      return response\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const register = async (userData) => {\r\n    try {\r\n      const response = await authService.register(userData)\r\n      // Auto-login after registration\r\n      if (response.email) {\r\n        await login(userData.email, userData.password)\r\n      }\r\n      return response\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const logout = (redirectToLogin = false) => {\r\n    authService.logout()\r\n    logoutStore()\r\n    // Only redirect if explicitly requested\r\n    if (redirectToLogin === true) {\r\n      navigate('/login')\r\n    }\r\n    // Otherwise, stay on current page (don't navigate)\r\n  }\r\n\r\n  const loginWithGoogle = () => {\r\n    authService.loginWithGoogle()\r\n  }\r\n\r\n  return {\r\n    user,\r\n    isAuthenticated,\r\n    loading,\r\n    login,\r\n    register,\r\n    logout,\r\n    loginWithGoogle,\r\n    refreshUser: fetchUserInfo,\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\features\\dashboard\\__init__.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\features\\doctor_consultation\\data\\texts.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\features\\preconsulta\\data\\texts.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\features\\preconsulta\\hooks\\usePreconsultaEngine.js","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useCallback' is defined but never used.","line":1,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":42},{"ruleId":"security/detect-object-injection","severity":1,"message":"Generic Object Injection Sink","line":272,"column":50,"nodeType":"MemberExpression","endLine":272,"endColumn":72},{"ruleId":"security/detect-object-injection","severity":1,"message":"Generic Object Injection Sink","line":272,"column":76,"nodeType":"MemberExpression","endLine":272,"endColumn":98},{"ruleId":"security/detect-object-injection","severity":1,"message":"Variable Assigned to Object Injection Sink","line":273,"column":28,"nodeType":"MemberExpression","endLine":273,"endColumn":50},{"ruleId":"security/detect-object-injection","severity":1,"message":"Variable Assigned to Object Injection Sink","line":331,"column":28,"nodeType":"MemberExpression","endLine":331,"endColumn":47}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport defaultFlowData from '../data/personal_info_flow.json';\r\n\r\nexport const usePreconsultaEngine = (flowData = defaultFlowData) => {\r\n  const [state, setState] = useState({\r\n    currentNodeId: flowData.start_node,\r\n    history: [],\r\n    answers: {},\r\n    isFinished: false,\r\n  });\r\n\r\n  const currentNode = flowData.nodes[state.currentNodeId];\r\n\r\n  // Helper to update answers\r\n  const saveAnswer = (key, value) => {\r\n    setState((prev) => {\r\n      // If inside a loop, save to currentData instead of global answers\r\n      if (prev.loopState?.active) {\r\n        return {\r\n          ...prev,\r\n          loopState: {\r\n            ...prev.loopState,\r\n            currentData: { ...prev.loopState.currentData, [key]: value }\r\n          }\r\n        };\r\n      }\r\n      \r\n      return {\r\n        ...prev,\r\n        answers: { ...prev.answers, [key]: value },\r\n      };\r\n    });\r\n  };\r\n\r\n  // Logic to determine the next node\r\n  const getNextNodeId = (node, value) => {\r\n    // 1. Explicit next_node\r\n    if (node.next_node) return node.next_node;\r\n\r\n    // 2. Yes/No Logic\r\n    if (node.type === 'yes_no') {\r\n      // Check if value matches \"Yes\" (usually boolean true or specific string)\r\n      const isYes = value === true || value === 'Sí' || value === 'Yes';\r\n      if (isYes && node.next_on_yes) return node.next_on_yes;\r\n      if (!isYes && node.next_on_no) return node.next_on_no;\r\n    }\r\n\r\n    // 3. Button Logic (options can have next_node)\r\n    if ((node.type === 'buttons' || node.type === 'dropdown' || node.type === 'loop_buttons') && node.options) {\r\n      const selectedOption = node.options.find((opt) => opt.label === value || opt.value === value);\r\n      if (selectedOption && selectedOption.next_node) return selectedOption.next_node;\r\n    }\r\n\r\n    // 4. Action Handlers (Mock logic for frontend)\r\n    if (node.type === 'action') {\r\n      return handleActionNode(node);\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  // Mock logic for \"Action\" nodes that usually run on backend\r\n  const handleActionNode = (node, pendingAnswers) => {\r\n    const { handler } = node;\r\n    const answers = { ...state.answers, ...pendingAnswers }; // Merge pending answers\r\n\r\n    switch (handler) {\r\n      case 'show_personal_info_summary':\r\n        return node.next_node || null;\r\n      \r\n      case 'decide_obstetric_flow':\r\n        // Simple logic: if female (assumed) -> check if pregnant or has children? \r\n        // For now, just go to next_if_needed to show the table\r\n        // NOTE: The nodes related to 'prepare_obstetric_flow' are orphans in the JSON and ignored here.\r\n        return node.next_if_needed || null;\r\n\r\n      // case 'prepare_obstetric_flow':\r\n      //   // ORPHAN NODE HANDLER - Ignored in Web Version\r\n      //   if (answers.gyn_has_been_pregnant === 'Sí' || answers.gyn_has_been_pregnant === true) {\r\n      //        return node.next_if_prenatal || null;\r\n      //   }\r\n      //   return node.next_if_gyn || null;\r\n\r\n      case 'calculate_imc': {\r\n          const peso = parseFloat(answers.peso_kg || 0);\r\n          const altura = parseFloat(answers.altura_m || 0);\r\n          if (peso > 0 && altura > 0) {\r\n              // Height in meters (input is now in meters)\r\n              const heightM = altura; \r\n              const imc = (peso / (heightM * heightM)).toFixed(2);\r\n              saveAnswer('imc_calculado', imc);\r\n          }\r\n          return node.next_node || null;\r\n      }\r\n\r\n      case 'decide_secrecion_subflujo': {\r\n          const secrecion = answers.secrecion_vaginal_tipo || [];\r\n          \r\n          // Check for \"Blanca\"\r\n          if (secrecion.includes('Blanca') && !answers.secrecion_blanca_detalle) {\r\n              return node.next_if_blanca;\r\n          }\r\n          \r\n          // Check for \"Sanguinolenta\"\r\n          if (secrecion.includes('Sanguinolenta') && !answers.secrecion_sangre_detalle) {\r\n              return node.next_if_sangrado;\r\n          }\r\n          \r\n          return node.next_if_done;\r\n      }\r\n\r\n      case 'combine_examen_fisico_summary': {\r\n          // Just proceed, the summary is built at the end in the page component\r\n          return node.next_node || null;\r\n      }\r\n\r\n      case 'check_if_pregnant_for_fertility':\r\n          // If currently pregnant, skip fertility questions\r\n          // We need a way to know if currently pregnant. \r\n          // For MVP, let's assume we ask fertility intent.\r\n          return node.next_if_ask_fertility || null;\r\n\r\n      case 'decide_if_ask_frequency':\r\n          if (answers.gyn_cycles === 'Regulares') return node.next_if_regular || null;\r\n          return node.next_if_irregular || null;\r\n\r\n      case 'check_functional_exam_enabled':\r\n          // Always enable for now\r\n          return node.next_if_enabled || null;\r\n\r\n      case 'prepare_birth_details_loop': {\r\n          const ho = answers.ho_table_results || {};\r\n          // Calculate total living children (approximate as Gestas - Abortos)\r\n          const gestas = ho.gestas || 0;\r\n          const abortos = ho.abortos || 0;\r\n          const totalChildren = Math.max(0, gestas - abortos);\r\n          \r\n          if (totalChildren > 0) {\r\n            // Initialize loop\r\n            setState(prev => ({\r\n              ...prev,\r\n              loopState: {\r\n                active: true,\r\n                variable: node.loop_variable || 'birth_details',\r\n                currentIndex: 0,\r\n                totalIterations: totalChildren,\r\n                currentData: {},\r\n                collectedData: [],\r\n                startNodeId: node.next_node_in_loop,\r\n                endNodeId: node.next_node_after_loop\r\n              }\r\n            }));\r\n            return node.next_node_in_loop || null;\r\n          } else {\r\n            return node.next_node_after_loop || null;\r\n          }\r\n      }\r\n\r\n      case 'loop_step': {\r\n          // Advance loop\r\n          setState(prev => {\r\n            if (!prev.loopState) return prev;\r\n            \r\n            // Merge pending answers into currentData to ensure we capture the last input\r\n            const updatedCurrentData = { ...prev.loopState.currentData, ...pendingAnswers };\r\n            \r\n            const newCollected = [...prev.loopState.collectedData, updatedCurrentData];\r\n            const newIndex = prev.loopState.currentIndex + 1;\r\n            \r\n            if (newIndex < prev.loopState.totalIterations) {\r\n              // Continue loop\r\n              return {\r\n                ...prev,\r\n                loopState: {\r\n                  ...prev.loopState,\r\n                  currentIndex: newIndex,\r\n                  currentData: {},\r\n                  collectedData: newCollected\r\n                }\r\n              };\r\n            } else {\r\n              // Finish loop\r\n              return {\r\n                ...prev,\r\n                answers: { ...prev.answers, [prev.loopState.variable]: newCollected },\r\n                loopState: undefined // Clear loop state\r\n              };\r\n            }\r\n          });\r\n\r\n          // Determine next node based on loop state (we need to check state AFTER update, but here we predict)\r\n          const loopState = state.loopState;\r\n          if (!loopState) return node.next_node_after_loop || null; \r\n\r\n          if (loopState.currentIndex + 1 < loopState.totalIterations) {\r\n             return loopState.startNodeId;\r\n          } else {\r\n             return loopState.endNodeId;\r\n          }\r\n      }\r\n\r\n      case 'calculate_ho_action': {\r\n          // We need to grab it from the loopState if available?\r\n          // Or we can pass it in pendingAnswers?\r\n          // loop_step doesn't return a value to saveAnswer. It sets state directly.\r\n          \r\n          // Let's try to read from pendingAnswers if passed (simulating the update).\r\n          const details = pendingAnswers?.birth_details || answers.birth_details || [];\r\n          const type = answers.obstetric_history_type;\r\n          const ho = answers.ho_table_results || {};\r\n          \r\n          // Format summary\r\n          let summary = \"\";\r\n          \r\n          if (type) {\r\n             summary += `Tipo: ${type}`;\r\n          }\r\n          \r\n          if (ho.gestas !== undefined) {\r\n             summary += `\\nG${ho.gestas} P${ho.partos} C${ho.cesareas} A${ho.abortos}`;\r\n          }\r\n\r\n          // Add details for children\r\n          if (details.length > 0) {\r\n            const childrenInfo = details.map((d, i) => {\r\n               return `Hijo ${i+1}: ${d.birth_year || '?'} (${d.weight || '?'}kg, ${d.height || '?'}cm, ${d.birth_type || '?'}, ${d.resolution || '?'}, ${d.condition || '?'})`;\r\n            }).join('; ');\r\n            summary += `\\nDetalles: ${childrenInfo}`;\r\n          }\r\n\r\n          saveAnswer('obstetric_history_summary', summary);\r\n          return node.next_node || null;\r\n      }\r\n\r\n      case 'finish_preconsultation':\r\n          setState(prev => ({ ...prev, isFinished: true }));\r\n          return null;\r\n\r\n      default:\r\n        // Default fallback for simple pass-through actions\r\n        return node.next_node || null;\r\n    }\r\n  };\r\n\r\n  const goToNext = (value) => {\r\n    let pendingAnswers = {};\r\n\r\n    // Save answer if applicable\r\n    if (currentNode.save_to && value !== undefined) {\r\n      let finalValue = value;\r\n      // Map Yes/No values if specified\r\n      if (currentNode.type === 'yes_no') {\r\n         if (value === true && currentNode.value_on_yes) finalValue = currentNode.value_on_yes;\r\n         if (value === false && currentNode.value_on_no) finalValue = currentNode.value_on_no;\r\n      }\r\n      saveAnswer(currentNode.save_to, finalValue);\r\n      pendingAnswers[currentNode.save_to] = finalValue;\r\n    }\r\n\r\n    // Determine next node\r\n    // Pass pendingAnswers to help decision making\r\n    let nextId = getNextNodeId(currentNode, value); \r\n    // Note: getNextNodeId calls handleActionNode if current is action. \r\n    // We should update getNextNodeId to pass pendingAnswers too.\r\n    \r\n    // But wait, getNextNodeId signature in my code above doesn't take pendingAnswers.\r\n    // I need to update getNextNodeId signature or call handleActionNode directly if needed.\r\n    // Let's update getNextNodeId signature below.\r\n\r\n    // Handle \"Action\" nodes automatically (skip them in UI)\r\n    // If the next node is an action, we process it immediately recursively\r\n    while (nextId && nextId !== 'END_SUBFLOW' && flowData.nodes[nextId] && flowData.nodes[nextId].type === 'action') {\r\n        const actionNode = flowData.nodes[nextId];\r\n        \r\n        // Execute action logic (if any side effects needed)\r\n        if (actionNode.handler === 'finish_preconsultation') {\r\n            setState(prev => ({ ...prev, isFinished: true }));\r\n            return;\r\n        }\r\n\r\n        // Special handling for loop_step to ensure state update happens\r\n        if (actionNode.handler === 'loop_step') {\r\n             // If loop is finishing:\r\n             const loopState = state.loopState;\r\n             if (loopState && !(loopState.currentIndex + 1 < loopState.totalIterations)) {\r\n                 // Loop finishing.\r\n                 // Construct the final array to pass to next steps\r\n                 const finalCollection = [...loopState.collectedData, loopState.currentData];\r\n                 pendingAnswers[loopState.variable] = finalCollection;\r\n             }\r\n        }\r\n\r\n        // Get next node from the action\r\n        nextId = handleActionNode(actionNode, pendingAnswers);\r\n    }\r\n\r\n    if (nextId === 'END_SUBFLOW') {\r\n        setState(prev => ({ ...prev, isFinished: true }));\r\n        return;\r\n    }\r\n\r\n    if (nextId) {\r\n      setState((prev) => ({\r\n        ...prev,\r\n        history: [...prev.history, prev.currentNodeId],\r\n        currentNodeId: nextId,\r\n      }));\r\n    } else if (!state.isFinished) {\r\n        console.warn(\"No next node found for\", state.currentNodeId);\r\n    }\r\n  };\r\n\r\n  const goToPrevious = () => {\r\n    setState((prev) => {\r\n      const newHistory = [...prev.history];\r\n      const prevNodeId = newHistory.pop();\r\n      if (!prevNodeId) return prev;\r\n      return {\r\n        ...prev,\r\n        history: newHistory,\r\n        currentNodeId: prevNodeId,\r\n      };\r\n    });\r\n  };\r\n\r\n  const rewindTo = (index) => {\r\n    setState((prev) => {\r\n      // If we want to go back to the node at 'index' in history:\r\n      // The new history should be the elements BEFORE 'index'.\r\n      // The new current node is the element AT 'index'.\r\n      const targetNodeId = prev.history[index];\r\n      const newHistory = prev.history.slice(0, index);\r\n      \r\n      return {\r\n        ...prev,\r\n        history: newHistory,\r\n        currentNodeId: targetNodeId,\r\n        isFinished: false,\r\n      };\r\n    });\r\n  };\r\n\r\n  // Persist answers to localStorage for continuity\r\n  useEffect(() => {\r\n    if (Object.keys(state.answers).length > 0) {\r\n      localStorage.setItem('current_patient_data', JSON.stringify(state.answers));\r\n    }\r\n  }, [state.answers]);\r\n\r\n  return {\r\n    currentNode,\r\n    currentNodeId: state.currentNodeId,\r\n    answers: state.answers,\r\n    isFinished: state.isFinished,\r\n    history: state.history,\r\n    goToNext,\r\n    goToPrevious,\r\n    rewindTo,\r\n    hasPrevious: state.history.length > 0,\r\n    loopState: state.loopState,\r\n  };\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\hooks\\__init__.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\hooks\\useDarkMode.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\lib\\axios.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\lib\\imageUtils.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\modules\\blog\\services\\blogService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\pages\\__init__.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\adminService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\appointmentService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\authService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\consultationService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\contactService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\doctorService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\faqService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\galleryService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\locationService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\preconsultationService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\servicesService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\services\\testimonialService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\store\\adminStore.js","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'get' is defined but never used.","line":5,"column":43,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":46}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Admin store using Zustand\r\nimport { create } from 'zustand'\r\nimport { adminService } from '../services/adminService'\r\n\r\nexport const useAdminStore = create((set, get) => ({\r\n  // State\r\n  tenants: [],\r\n  plans: [],\r\n  modules: [],\r\n  loading: false,\r\n  error: null,\r\n\r\n  // Actions\r\n  setLoading: (loading) => set({ loading }),\r\n  setError: (error) => set({ error }),\r\n\r\n  // Tenant actions\r\n  fetchTenants: async (params = {}) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const tenants = await adminService.getTenants(params)\r\n      set({ tenants, loading: false })\r\n      return tenants\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  createTenant: async (tenantData) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const newTenant = await adminService.createTenant(tenantData)\r\n      set(state => ({\r\n        tenants: [...state.tenants, newTenant],\r\n        loading: false\r\n      }))\r\n      return newTenant\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateTenant: async (tenantId, tenantData) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const updatedTenant = await adminService.updateTenant(tenantId, tenantData)\r\n      set(state => ({\r\n        tenants: state.tenants.map(tenant =>\r\n          tenant.id === tenantId ? updatedTenant : tenant\r\n        ),\r\n        loading: false\r\n      }))\r\n      return updatedTenant\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateTenantStatus: async (tenantId, statusData) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const updatedTenant = await adminService.updateTenantStatus(tenantId, statusData)\r\n      set(state => ({\r\n        tenants: state.tenants.map(tenant =>\r\n          tenant.id === tenantId ? updatedTenant : tenant\r\n        ),\r\n        loading: false\r\n      }))\r\n      return updatedTenant\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deleteTenant: async (tenantId) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      await adminService.deleteTenant(tenantId)\r\n      set(state => ({\r\n        tenants: state.tenants.filter(tenant => tenant.id !== tenantId),\r\n        loading: false\r\n      }))\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateTenantModules: async (tenantId, moduleUpdates) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const updatedModules = await adminService.updateTenantModules(tenantId, moduleUpdates)\r\n      // Refresh tenant data to get updated modules\r\n      const updatedTenant = await adminService.getTenant(tenantId)\r\n      set(state => ({\r\n        tenants: state.tenants.map(tenant =>\r\n          tenant.id === tenantId ? updatedTenant : tenant\r\n        ),\r\n        loading: false\r\n      }))\r\n      return updatedModules\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Plan actions\r\n  fetchPlans: async (params = {}) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const plans = await adminService.getPlans(params)\r\n      set({ plans, loading: false })\r\n      return plans\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  createPlan: async (planData) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const newPlan = await adminService.createPlan(planData)\r\n      set(state => ({\r\n        plans: [...state.plans, newPlan],\r\n        loading: false\r\n      }))\r\n      return newPlan\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updatePlan: async (planId, planData) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const updatedPlan = await adminService.updatePlan(planId, planData)\r\n      set(state => ({\r\n        plans: state.plans.map(plan =>\r\n          plan.id === planId ? updatedPlan : plan\r\n        ),\r\n        loading: false\r\n      }))\r\n      return updatedPlan\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deletePlan: async (planId) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      await adminService.deletePlan(planId)\r\n      set(state => ({\r\n        plans: state.plans.filter(plan => plan.id !== planId),\r\n        loading: false\r\n      }))\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Module actions\r\n  fetchModules: async (params = {}) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const modules = await adminService.getModules(params)\r\n      set({ modules, loading: false })\r\n      return modules\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  createModule: async (moduleData) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const newModule = await adminService.createModule(moduleData)\r\n      set(state => ({\r\n        modules: [...state.modules, newModule],\r\n        loading: false\r\n      }))\r\n      return newModule\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  updateModule: async (moduleId, moduleData) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      const updatedModule = await adminService.updateModule(moduleId, moduleData)\r\n      set(state => ({\r\n        modules: state.modules.map(module =>\r\n          module.id === moduleId ? updatedModule : module\r\n        ),\r\n        loading: false\r\n      }))\r\n      return updatedModule\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  deleteModule: async (moduleId) => {\r\n    try {\r\n      set({ loading: true, error: null })\r\n      await adminService.deleteModule(moduleId)\r\n      set(state => ({\r\n        modules: state.modules.filter(module => module.id !== moduleId),\r\n        loading: false\r\n      }))\r\n    } catch (error) {\r\n      set({ error: error.message, loading: false })\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Clear error\r\n  clearError: () => set({ error: null }),\r\n}))","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\store\\authStore.js","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'get' is defined but never used.","line":5,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":45}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Auth store using Zustand\r\nimport { create } from 'zustand'\r\nimport { authService } from '../services/authService'\r\n\r\nexport const useAuthStore = create((set, get) => {\r\n  // Initialize from localStorage if token exists\r\n  const token = localStorage.getItem('access_token')\r\n  const initialAuth = !!token\r\n\r\n  return {\r\n    user: null,\r\n    isAuthenticated: initialAuth,\r\n    loading: false,\r\n    \r\n    setUser: (user) => set({ user, isAuthenticated: !!user }),\r\n    \r\n    loadUser: async () => {\r\n      const token = localStorage.getItem('access_token')\r\n      if (!token) {\r\n        set({ user: null, isAuthenticated: false, loading: false })\r\n        return\r\n      }\r\n      \r\n      set({ loading: true })\r\n      try {\r\n        const user = await authService.getCurrentUser()\r\n        set({ user, isAuthenticated: true, loading: false })\r\n      } catch (error) {\r\n        // Token might be invalid, clear it\r\n        localStorage.removeItem('access_token')\r\n        set({ user: null, isAuthenticated: false, loading: false })\r\n      }\r\n    },\r\n    \r\n    logout: () => {\r\n      localStorage.removeItem('access_token')\r\n      set({ user: null, isAuthenticated: false, loading: false })\r\n    },\r\n  }\r\n})\r\n\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\store\\toastStore.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"C:\\Users\\pablo\\Desktop\\appgynsys\\frontend\\src\\utils\\medicalFormatters.js","messages":[{"ruleId":"security/detect-object-injection","severity":1,"message":"Generic Object Injection Sink","line":9,"column":23,"nodeType":"MemberExpression","endLine":9,"endColumn":29},{"ruleId":"security/detect-object-injection","severity":1,"message":"Generic Object Injection Sink","line":10,"column":26,"nodeType":"MemberExpression","endLine":10,"endColumn":32},{"ruleId":"security/detect-object-injection","severity":1,"message":"Generic Object Injection Sink","line":11,"column":20,"nodeType":"MemberExpression","endLine":11,"endColumn":26},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":53,"column":17,"nodeType":"BlockStatement","messageId":"unexpected","endLine":53,"endColumn":19,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[1687,1687],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'d' is assigned a value but never used.","line":164,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":164,"endColumn":28}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nexport const toRoman = (num) => {\r\n    if (typeof num !== 'number' || num < 1) return '';\r\n    const val = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1];\r\n    const syb = [\"M\", \"CM\", \"D\", \"CD\", \"C\", \"XC\", \"L\", \"XL\", \"X\", \"IX\", \"V\", \"IV\", \"I\"];\r\n    let roman_num = '';\r\n    let i = 0;\r\n    while (num > 0) {\r\n        while (num >= val[i]) {\r\n            roman_num += syb[i];\r\n            num -= val[i];\r\n        }\r\n        i++;\r\n    }\r\n    return roman_num;\r\n};\r\n\r\nexport const formatObstetricHistory = (data) => {\r\n    const hoFormula = data.gyn_ho || '';\r\n    \r\n    if (hoFormula.toLowerCase().includes('nuligesta')) return \"Paciente Nuligesta\";\r\n    if (hoFormula.toLowerCase().includes('primigesta')) return \"Paciente Primigesta\";\r\n\r\n    // Extract G P A C\r\n    const getVal = (regex) => {\r\n        const match = hoFormula.match(regex);\r\n        return match ? parseInt(match[1]) : 0;\r\n    };\r\n    \r\n    const g = getVal(/G(\\d+)/);\r\n    const p = getVal(/P(\\d+)/);\r\n    const a = getVal(/A(\\d+)/);\r\n    const c = getVal(/C(\\d+)/);\r\n\r\n    if (g === 0 && p === 0 && a === 0 && c === 0) return hoFormula || \"No registrado\";\r\n\r\n    let parts = [];\r\n    if (g > 0) parts.push(`${toRoman(g)}G`);\r\n    if (p > 0) parts.push(`${toRoman(p)}P`);\r\n    if (c > 0) parts.push(`${toRoman(c)}C`);\r\n    if (a > 0) parts.push(`${toRoman(a)}A`);\r\n    \r\n    let result = parts.join(' ');\r\n\r\n    // Birth details\r\n    let birthList = [];\r\n    try {\r\n        if (typeof data.birth_details === 'string') {\r\n            birthList = JSON.parse(data.birth_details);\r\n        } else if (Array.isArray(data.birth_details)) {\r\n            birthList = data.birth_details;\r\n        }\r\n    } catch (e) {}\r\n\r\n    if (birthList.length > 0) {\r\n        const details = birthList.map(birth => {\r\n            const year = birth.birth_year || 'N/A';\r\n            const weight = birth.weight || 'N/A';\r\n            const height = birth.height || 'N/A';\r\n            const complications = birth.complications || 'Sin complicaciones';\r\n            const compText = `, que cursó ${complications}`;\r\n            return `${year} ${weight}kg / ${height}cm${compText}`;\r\n        }).join('; ');\r\n        result += ` -> ${details}`;\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\nexport const formatFullGynObstetricSummary = (data) => {\r\n    let parts = [];\r\n\r\n    // 1. Obstetric History\r\n    const hoText = formatObstetricHistory(data);\r\n    if (hoText) {\r\n        parts.push(hoText.endsWith('.') ? hoText : `${hoText}.`);\r\n    }\r\n\r\n    // 2. Menarche & Sexarche\r\n    const menarche = data.gyn_menarche;\r\n    const sexarche = data.gyn_sexarche;\r\n    let menarcheText = menarche ? `Menarquía a los ${menarche} años` : \"\";\r\n    let sexarcheText = \"\";\r\n    \r\n    if (sexarche) {\r\n        if (String(sexarche).toLowerCase().includes('nunca')) {\r\n            sexarcheText = \"Sexarquía: niega\";\r\n        } else {\r\n            sexarcheText = `sexarquía a los ${sexarche}`;\r\n        }\r\n    }\r\n\r\n    if (menarcheText && sexarcheText) {\r\n        parts.push(`${menarcheText} y ${sexarcheText}.`);\r\n    } else if (menarcheText) {\r\n        parts.push(`${menarcheText}.`);\r\n    } else if (sexarcheText) {\r\n        parts.push(`${sexarcheText.charAt(0).toUpperCase() + sexarcheText.slice(1)}.`);\r\n    }\r\n\r\n    // 3. Cycles & Dysmenorrhea\r\n    const cycles = data.gyn_cycles || 'Regulares';\r\n    const dysmenorrhea = data.gyn_dysmenorrhea || 'No';\r\n    let cycleText = \"ciclos menstruales regulares\";\r\n    \r\n    if (String(cycles).toLowerCase().includes('irregulares')) {\r\n        const match = String(cycles).match(/Duración: ([\\w\\s]+)\\. Frecuencia: ([\\w\\s]+)\\./);\r\n        if (match) {\r\n            cycleText = `ciclos menstruales irregulares con duración de ${match[1].trim()} y frecuencia de ${match[2].trim()}`;\r\n        } else {\r\n             cycleText = \"ciclos menstruales irregulares\";\r\n        }\r\n    }\r\n\r\n    if (String(dysmenorrhea).toLowerCase() !== 'no') {\r\n        const match = String(dysmenorrhea).match(/intensidad: (\\d+)\\/10/i);\r\n        const intensity = match ? match[1] : null;\r\n        if (intensity) {\r\n            cycleText += `, asociados a dismenorrea de intensidad ${intensity}/10`;\r\n        } else {\r\n            cycleText += `, asociados a dismenorrea`;\r\n        }\r\n    } else {\r\n        cycleText += \", sin dismenorrea\";\r\n    }\r\n    parts.push(`Refiere ${cycleText}.`);\r\n\r\n    // 4. FUM\r\n    if (data.gyn_fum) {\r\n        parts.push(`Su FUM fue el ${data.gyn_fum}.`);\r\n    }\r\n\r\n    // 5. MAC\r\n    const mac = data.gyn_mac;\r\n    if (mac && String(mac).toLowerCase() !== 'no') {\r\n        parts.push(`Utiliza como método anticonceptivo: ${String(mac).toLowerCase()}.`);\r\n    }\r\n\r\n    // 6. Sexual Activity & Fertility\r\n    const sexuallyActive = data.sexually_active;\r\n    const fertilityIntent = data.gyn_fertility_intent;\r\n    \r\n    if (sexuallyActive && String(sexuallyActive).toLowerCase() === 'sí') {\r\n        let fertilityText = \"sin deseo de fertilidad\";\r\n        if (fertilityIntent && !String(fertilityIntent).toLowerCase().includes('no tiene')) {\r\n            fertilityText = `con ${String(fertilityIntent).toLowerCase()}`;\r\n        }\r\n        parts.push(`Mantiene actividad sexual activa ${fertilityText}.`);\r\n    } else if (sexuallyActive && String(sexuallyActive).toLowerCase() === 'no') {\r\n        parts.push(\"No mantiene actividad sexual actualmente.\");\r\n    }\r\n\r\n    // 7. Checkups\r\n    const prevCheckup = data.gyn_previous_checkups;\r\n    const lastPap = data.gyn_last_pap_smear;\r\n    \r\n    const formatDate = (val) => {\r\n        if (!val) return null;\r\n        const dateStr = String(val);\r\n        if (['nunca', 'no', 'n/a'].includes(dateStr.toLowerCase())) return null;\r\n        \r\n        // Simple check if it looks like YYYY-MM-DD\r\n        if (dateStr.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\r\n             const [y, m, d] = dateStr.split('-');\r\n             const months = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];\r\n             return `${months[parseInt(m)-1]} del ${y}`;\r\n        }\r\n        return dateStr;\r\n    };\r\n\r\n    const prevCheckupFmt = formatDate(prevCheckup);\r\n    const lastPapFmt = formatDate(lastPap);\r\n\r\n    if (prevCheckup && lastPap && prevCheckup === lastPap && String(prevCheckup).toLowerCase() !== 'nunca') {\r\n        parts.push(`Su último control ginecológico y citología fueron en ${prevCheckupFmt}.`);\r\n    } else {\r\n        if (prevCheckup && String(prevCheckup).toLowerCase() !== 'nunca') {\r\n            parts.push(`Su último control ginecológico fue en ${prevCheckupFmt}.`);\r\n        }\r\n        if (lastPap && String(lastPap).toLowerCase() !== 'nunca') {\r\n            parts.push(`Su última citología fue realizada en ${lastPapFmt}.`);\r\n        }\r\n    }\r\n\r\n    return parts.join(' ');\r\n  };\r\n\r\nexport const formatPhysicalExamSummary = (data) => {\r\n    const formatRadials = (locs) => {\r\n        if (!Array.isArray(locs) || locs.length === 0) return '';\r\n        \r\n        const radios = [];\r\n        const others = [];\r\n\r\n        locs.forEach(loc => {\r\n            if (loc.startsWith('Radio ')) {\r\n                radios.push(parseInt(loc.replace('Radio ', ''), 10));\r\n            } else {\r\n                others.push(loc);\r\n            }\r\n        });\r\n\r\n        radios.sort((a, b) => a - b);\r\n\r\n        let radioText = '';\r\n        if (radios.length === 1) {\r\n            radioText = `Radio ${radios[0]}`;\r\n        } else if (radios.length > 1) {\r\n            const last = radios.pop();\r\n            radioText = `Radios ${radios.join(', ')} y ${last}`;\r\n        }\r\n\r\n        const parts = [];\r\n        if (radioText) parts.push(radioText);\r\n        if (others.length > 0) parts.push(others.join(', '));\r\n\r\n        return parts.join(' y ');\r\n    };\r\n\r\n    let parts = [];\r\n\r\n    // General\r\n    if (data.condiciones_generales) parts.push(`Paciente en condiciones generales ${data.condiciones_generales.toLowerCase()}.`);\r\n    \r\n    // Antropometría\r\n    let antro = [];\r\n    if (data.peso_kg) antro.push(`peso ${data.peso_kg}kg`);\r\n    if (data.altura_m) antro.push(`talla ${data.altura_m}m`);\r\n    if (data.imc_calculado) antro.push(`IMC ${data.imc_calculado}`);\r\n    if (antro.length > 0) parts.push(`Antropometría: ${antro.join(', ')}.`);\r\n\r\n    // Mamas\r\n    const mamas = [];\r\n    // Derecha\r\n    let md = [];\r\n    if (data.mama_derecha_simetria) md.push(data.mama_derecha_simetria.toLowerCase());\r\n    if (data.mama_derecha_areola) md.push(`areola ${data.mama_derecha_areola.toLowerCase()}`);\r\n    if (data.mama_derecha_nodulos === 'Con Presencia') {\r\n        let locs = data.mama_derecha_nodulos_radiales || [];\r\n        const formatted = formatRadials(locs);\r\n        if (formatted) md.push(`nódulos palpables en ${formatted}`);\r\n    } else if (data.mama_derecha_nodulos) {\r\n        md.push(\"sin nódulos\");\r\n    }\r\n    if (data.mama_derecha_secrecion) md.push(\"con secreción\");\r\n    if (md.length > 0) mamas.push(`Mama derecha: ${md.join(', ')}`);\r\n\r\n    // Izquierda\r\n    let mi = [];\r\n    if (data.mama_izquierda_simetria) mi.push(data.mama_izquierda_simetria.toLowerCase());\r\n    if (data.mama_izquierda_areola) mi.push(`areola ${data.mama_izquierda_areola.toLowerCase()}`);\r\n    if (data.mama_izquierda_nodulos === 'Con Presencia') {\r\n        let locs = data.mama_izquierda_nodulos_radiales || [];\r\n        const formatted = formatRadials(locs);\r\n        if (formatted) mi.push(`nódulos palpables en ${formatted}`);\r\n    } else if (data.mama_izquierda_nodulos) {\r\n        mi.push(\"sin nódulos\");\r\n    }\r\n    if (data.mama_izquierda_secrecion) mi.push(\"con secreción\");\r\n    if (mi.length > 0) mamas.push(`Mama izquierda: ${mi.join(', ')}`);\r\n\r\n    if (mamas.length > 0) parts.push(mamas.join('. ') + '.');\r\n\r\n    // Genitales y Vagina\r\n    if (data.genitales_externos) parts.push(`Genitales externos ${data.genitales_externos.toLowerCase()}.`);\r\n    \r\n    let vagina = [];\r\n    if (data.vagina_trayecto) vagina.push(`trayecto ${data.vagina_trayecto.toLowerCase()}`);\r\n    if (data.paredes_vaginales && data.paredes_vaginales.length > 0) vagina.push(`paredes ${data.paredes_vaginales.join(', ').toLowerCase()}`);\r\n    if (vagina.length > 0) parts.push(`Vagina: ${vagina.join(', ')}.`);\r\n\r\n    // Cuello\r\n    let cuello = [];\r\n    if (data.cuello_uterino && data.cuello_uterino.length > 0) cuello.push(data.cuello_uterino.join(', '));\r\n    if (data.oce_description) cuello.push(`OCE ${data.oce_description.toLowerCase()}`);\r\n    if (data.movilizacion_cervix) cuello.push(`movilización ${data.movilizacion_cervix.toLowerCase()}`);\r\n    if (cuello.length > 0) parts.push(`Cuello uterino: ${cuello.join(', ')}.`);\r\n\r\n    // Secreción\r\n    if (data.secrecion_vaginal_tipo && data.secrecion_vaginal_tipo.length > 0) {\r\n        let sec = `Secreción vaginal ${data.secrecion_vaginal_tipo.join(', ').toLowerCase()}`;\r\n        if (data.secrecion_blanca_detalle) sec += ` (${data.secrecion_blanca_detalle.toLowerCase()})`;\r\n        if (data.secrecion_sangre_detalle) sec += ` (${data.secrecion_sangre_detalle.toLowerCase()})`;\r\n        parts.push(sec + '.');\r\n    }\r\n\r\n    // Tacto / Útero / Anexos\r\n    if (data.realizo_tacto) {\r\n        let tacto = [];\r\n        if (data.utero_posicion) tacto.push(`útero en ${data.utero_posicion}`);\r\n        if (data.utero_tamano) tacto.push(`tamaño ${data.utero_tamano.toLowerCase()}`);\r\n        if (data.anexos_hallazgos && data.anexos_hallazgos.length > 0) tacto.push(`anexos: ${data.anexos_hallazgos.join(', ').toLowerCase()}`);\r\n        if (data.fondo_saco) tacto.push(`fondo de saco ${data.fondo_saco.toLowerCase()}`);\r\n        if (tacto.length > 0) parts.push(`Tacto vaginal: ${tacto.join(', ')}.`);\r\n    }\r\n\r\n    // Adicional\r\n    if (data.examen_fisico_adicional) parts.push(data.examen_fisico_adicional);\r\n\r\n    return parts.join(' ');\r\n  };\r\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]